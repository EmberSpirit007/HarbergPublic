import{o as D,a as Ae,d as M,u as ae,r as f,b as i,c as n,e as y,f as e,g as z,h as I,i as _,t as R,j as T,k as pe,w as m,n as X,l as Ce,m as b,p as k,I as E,q as Te,v as Re,s as oe,F,x as Q,y as j,_ as me,z as Ve,A as Pe,T as Be,B as Ne,C as se,D as fe,E as Ie,G as ge,H as ee,J as ze,S as Me,K as le,L as Z,M as ye,N as B,O as Fe,P as He,Q as te,R as H,U as Le,V as De,W as Ue,X as We,Y as Ee,Z as qe,$ as ie,a0 as Oe,a1 as Ye,a2 as ue,a3 as O,a4 as je,a5 as Ze}from"./index-BKmFGOMO.js";import{u as be,a as Xe}from"./useStake-DBctu0LI.js";function ke(p,o){if(!p)return;const s=c=>{c.target!==p.value&&c.composedPath().includes(p.value)||typeof o=="function"&&o()};return D(()=>{window.addEventListener("click",s)}),Ae(()=>{window.removeEventListener("click",s)}),{listener:s}}const Ge=["onmouseover"],Je=200,Ke=M({__name:"IconInfo",setup(p){const o=ae(),s=f();function c(r){s.value.style.position="absolute",s.value.style.display="block";const u=s.value.getBoundingClientRect();s.value.style.top=r.layerY-u.height-20+"px",Je+r.layerX>window.innerWidth||(s.value.style.left=r.layerX+"px")}function t(){s.value.style.display="none"}return(r,u)=>i(o).text?(n(),y("div",{key:0,class:"info-icon",onmouseover:S=>c(S),onmouseout:t},[e("div",{class:"info-icon-text body2",ref_key:"infoText",ref:s},[z(r.$slots,"text")],512),u[0]||(u[0]=e("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6.2 6.26416C6.2 5.84995 6.53579 5.51416 6.95 5.51416C7.36421 5.51416 7.7 5.84995 7.7 6.26416V9.76416C7.7 10.1784 7.36421 10.5142 6.95 10.5142C6.53579 10.5142 6.2 10.1784 6.2 9.76416V6.26416Z"}),e("path",{d:"M7 3.01416C7.55228 3.01416 8 3.46188 8 4.01416C8 4.56644 7.55228 5.01416 7 5.01416C6.44772 5.01416 6 4.56644 6 4.01416C6 3.46188 6.44772 3.01416 7 3.01416Z"}),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 7.01416C14 10.8802 10.866 14.0142 7 14.0142C3.13401 14.0142 0 10.8802 0 7.01416C0 3.14817 3.13401 0.0141602 7 0.0141602C10.866 0.0141602 14 3.14817 14 7.01416ZM1.5 7.01416C1.5 10.0517 3.96243 12.5142 7 12.5142C10.0376 12.5142 12.5 10.0517 12.5 7.01416C12.5 3.97659 10.0376 1.51416 7 1.51416C3.96243 1.51416 1.5 3.97659 1.5 7.01416Z"})],-1))],8,Ge)):I("",!0)}}),Qe={class:"f-input-label subheader2"},et=["disabled","readonly","type","value"],tt={key:0,class:"f-input--suffix"},at={key:0,class:"f-input--details"},W=M({__name:"FInput",props:{size:{default:"normal"},info:{},label:{},disabled:{type:Boolean,default:!1},modelValue:{},type:{default:"string"},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(p,{emit:o}){const s=ae(),c=f(),r=`f-input-${Ce().uid}`,u=p;ke(c,()=>{d()});const S=o;function $(v){S("update:modelValue",v.target.value)}const w=_(()=>({"f-input--normal":u.size==="normal","f-input--big":u.size==="big","f-input--disabled":u.disabled}));function d(){c.value.classList.remove("f-input__wrapper--focused")}function C(v){if(console.log("setFocus"),u.disabled)return;c.value.classList.add("f-input__wrapper--focused")}return(v,N)=>(n(),y("div",{class:X(["f-input",w.value])},[e("div",Qe,[u.label?(n(),y("label",{key:0,for:r},R(u.label),1)):I("",!0),T(Ke,null,pe({_:2},[i(s).info?{name:"text",fn:m(()=>[z(v.$slots,"info")]),key:"0"}:void 0]),1024)]),e("div",{class:"f-input__wrapper",ref_key:"inputWrapper",ref:c,onClick:C},[e("input",{disabled:u.disabled,readonly:u.readonly,type:u.type,name:r,id:r,onInput:$,value:u.modelValue},null,40,et),i(s).suffix?(n(),y("div",tt,[z(v.$slots,"suffix",{},()=>[N[0]||(N[0]=b("test "))])])):I("",!0)],512),i(s).details?(n(),y("div",at,[z(v.$slots,"details")])):I("",!0)],2))}}),st=["onClick","onMouseenter","onMouseleave"],lt={class:"circle"},nt={key:0,class:"active"},ot={key:1,class:"hovered"},it={class:"yearly"},ut={class:"value"},rt={class:"daily"},dt={class:"value"},xe=M({__name:"FSelect",props:{items:{type:[Array],required:!1,default:[]},clearable:{type:Boolean,required:!1,default:!1},itemTitle:{type:String,required:!1,default:"label"},itemValue:{type:String,required:!1,default:"value"},label:{type:String,required:!1,default:null},modelValue:{type:Number,required:!1,default:null},value:{type:String,required:!1,default:null},editor:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(p,{emit:o}){const s=o,c=ae(),t=p,r=f(!1);f([]);const u=f(null),S=f(),$=f();ke(u,()=>{r.value=!1});const w=_({get(){return t.modelValue||t.items[0].year},set(A){s("update:modelValue",A)}});function d(A,V){const P=A.target;$.value=V,P.classList.add("active")}function C(A,V){S.value.querySelectorAll(".select-list-item").forEach(h=>{h.classList.remove("active")})}D(()=>{});function v(A){r.value=!r.value}function N(A){console.log("item",A),w.value=A.year,r.value=!1,console.log("showList.value",r.value)}return(A,V)=>(n(),y(F,null,[e("div",{class:"o-select",onClick:v,ref_key:"componentRef",ref:u},[T(W,{"hide-details":"",clearable:t.clearable,label:t.label,selectedable:!1,focus:r.value,modelValue:`${w.value} % yearly`,readonly:""},pe({suffix:m(()=>[r.value?(n(),k(i(E),{key:0,class:"toggle-collapse",icon:"mdi:chevron-down"})):(n(),k(i(E),{key:1,class:"toggle-collapse",icon:"mdi:chevron-up"}))]),_:2},[i(c).info?{name:"info",fn:m(()=>[z(A.$slots,"info")]),key:"0"}:void 0]),1032,["clearable","label","focus","modelValue"]),Te(e("div",{class:"select-list-wrapper",ref_key:"selectList",ref:S},[e("div",{class:"select-list-inner",onClick:V[0]||(V[0]=oe(()=>{},["stop"]))},[(n(!0),y(F,null,Q(t.items,(P,h)=>(n(),y("div",{class:X(["select-list-item",{active:w.value===P.year,hovered:$.value===h}]),key:P.year,onClick:oe(a=>N(P),["stop"]),onMouseenter:a=>d(a,h),onMouseleave:a=>C()},[e("div",lt,[w.value===P.year?(n(),y("div",nt)):$.value===h?(n(),y("div",ot)):I("",!0)]),e("div",it,[e("div",ut,R(P.year)+" %",1),V[1]||(V[1]=e("div",{class:"label"},"yearly",-1))]),e("div",rt,[e("div",dt,R(P.daily.toFixed(4))+" %",1),V[2]||(V[2]=e("div",{class:"label"},"daily",-1))])],42,st))),128))])],512),[[Re,r.value]])],512),z(A.$slots,"default",{style:j([t.editor?{}:{display:"none"}])})],64))}}),ct={},vt={class:"cube"};function pt(p,o){return n(),y("div",vt,o[0]||(o[0]=[Ve('<div class="side"></div><div class="side"></div><div class="side"></div><div class="side"></div><div class="side"></div><div class="side"></div>',6)]))}const _e=me(ct,[["render",pt]]),mt={class:"flex123"},ft={class:"range-slider"},gt=["value","min","max"],yt=M({__name:"FSlider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(p,{emit:o}){const s=f(),c=o,t=p,r=_(()=>!t.min||!t.max?0n:t.min*100/t.max);function u(v){c("update:modelValue",v.target.valueAsNumber)}const S=_({get(){return t.modelValue||t.min},set(v){c("update:modelValue",v)}}),$=_(()=>100*(S.value-t.min)/(t.max-t.min)),w={fill:"#1A54F4",background:"#000000"};D(()=>{s.value.addEventListener("input",d)});function d(v){S.value=v.target.value}function C(v){console.log("event",v)}return Pe(()=>{console.log("sliderInput.value",s.value),s.value&&s.value.removeEventListener("input",d)}),(v,N)=>(n(),y("div",null,[e("div",mt,[e("div",{class:"disabled-slider",style:j({"flex-basis":r.value+"%"})},N[0]||(N[0]=[e("div",{class:"dot"},null,-1)]),4),e("div",ft,[e("input",{class:"range-slider__range",type:"range",ref_key:"sliderInput",ref:s,style:j({background:`linear-gradient(90deg, ${w.fill} ${$.value}%, ${w.background} ${$.value+.1}%)`}),value:t.modelValue,min:t.min,max:t.max,onInput:u},null,44,gt),e("div",{class:"testbla",onMousemove:C,style:j({left:$.value+"%"})},null,36)])])]))}}),bt={},kt={class:"f-tag"};function xt(p,o){return n(),y("div",kt,[z(p.$slots,"default")])}const _t=me(bt,[["render",xt]]),$t={class:"f-collapse"},wt={class:"f-collapse-inner"},ht={key:0,class:"collapsableDiv"},$e=M({__name:"FCollapse",props:{loading:{type:Boolean}},emits:["collapse:opened","collapse:closed"],setup(p,{emit:o}){const s=o,c=p,t=f(!1),r=()=>{t.value=!t.value,t.value?s("collapse:opened"):s("collapse:closed")};return(u,S)=>(n(),y("div",$t,[e("div",{class:X(["f-collapse-wrapper",{loading:c.loading}])},[u.loading?(n(),k(_e,{key:0})):I("",!0),e("div",wt,[z(u.$slots,"header"),t.value?(n(),k(i(E),{key:0,class:"toggle-collapse",icon:"mdi:chevron-down",onClick:r})):(n(),k(i(E),{key:1,icon:"mdi:chevron-up",class:"toggle-collapse",onClick:r}))]),T(Be,{name:"collapse"},{default:m(()=>[t.value?(n(),y("div",ht,[z(u.$slots,"default")])):I("",!0)]),_:3})],2)]))}}),re=Ne(),de=se();function St(){const p=f(),o=f(),s=_(()=>p.value?"SignTransaction":o.value?"Waiting":"Unstakeable");async function c(t){try{console.log("positionId",t),p.value=!0;const r=await Ie(t);console.log("hash",r),p.value=!1,o.value=!0;const u=await ge(ee,{hash:r}),$=ze({abi:Me.abi,data:u.logs[2].data,topics:u.logs[2].topics}).args,w=le(Z($.harbergPayout,10n**BigInt(de.balance.decimals)));re.showSuccessToast(w,"Success!","You unstaked","","$HARB"),o.value=!1,de.loadBalance()}catch(r){console.error("error",r),re.showFailToast(r.name)}finally{p.value=!1,o.value=!1}}return fe({state:s,exitPosition:c})}const At={class:"collapse-header"},Ct={class:"collapse-header-row1"},Tt={class:""},Rt={class:"number-small"},Vt={class:"collapse-header-row2"},Pt={class:"profit-stats-item"},Bt={class:"tags-list"},Nt={class:"collapsed-body"},It={class:"profit-stats-wrapper"},zt={class:"profit-stats-item"},Mt={class:"profit-stats-item"},Ft={class:"profit-stats-item profit-stats-total"},Ht={class:"collapsed-body--actions"},Lt={class:"collapse-menu-input"},Dt=M({__name:"CollapseActive",props:{taxRate:{},treshold:{},id:{},amount:{},position:{}},setup(p){const o=St(),s=ye(),c=be(),t=p,r=f(!1),u=f(1),S=f(),$=f(),w=f(),d=f(!1),C=_(()=>t.taxRate<t.treshold?"Low Tax!":""),v=_(()=>t.amount+w.value+-$.value);async function N(h,a){await s.changeTax(h,a),r.value=!1}async function A(){console.log(t.id),await o.exitPosition(t.id),d.value=!0,await new Promise(h=>setTimeout(h,5e3)),console.log("loadPositions begin"),await Fe(),console.log("loadPositions end"),d.value=!1}async function V(){console.log("loadActivePositionData",t.position),S.value=await He(t.id),console.log("taxDue",S.value),$.value=te(S.value+BigInt(t.position.taxPaid),18),console.log("loadActivePositionData",$.value);const h=Number(H(t.position.totalSupplyInit,18))/Number(H(c.harbTotalSupply,18));console.log("props.position.totalSupplyInit",t.position.totalSupplyInit),console.log("multiplier",h),w.value=Number(H(c.harbTotalSupply,18))*h-Number(H(c.harbTotalSupply,18))}D(()=>{const h=s.taxRates.find(a=>a.index===t.position.taxRateIndex+1);h&&(u.value=h.year)});const P=_(()=>s.taxRates.filter(h=>h.year>t.taxRate));return(h,a)=>(n(),k($e,{class:"f-collapse-active","onCollapse:opened":V,loading:d.value},{header:m(()=>[e("div",At,[e("div",Ct,[e("div",null,[a[4]||(a[4]=e("span",{class:"subheader2"},"Tax",-1)),b(" "+R(t.taxRate)+" %",1)]),e("div",Tt,[a[5]||(a[5]=e("span",{class:"subheader2"},"ID",-1)),a[6]||(a[6]=b()),e("span",Rt,R(t.id),1)])]),e("div",Vt,[e("div",null,[e("div",Pt,[a[7]||(a[7]=e("div",null,[e("b",null,"Initial Stake")],-1)),e("div",null,R(i(le)(t.amount))+" $HARB",1)])]),e("div",Bt,[C.value?(n(),k(_t,{key:0},{default:m(()=>[b(R(C.value),1)]),_:1})):I("",!0)])])])]),default:m(()=>[e("div",Nt,[e("div",It,[e("div",zt,[a[8]||(a[8]=e("div",null,[e("b",null,"Tax Paid")],-1)),e("div",null,R($.value)+" $HARB",1)]),e("div",Mt,[a[9]||(a[9]=e("div",null,[e("b",null,"Issuance Earned")],-1)),e("div",null,R(w.value)+" $HARB",1)]),e("div",Ft,[a[10]||(a[10]=e("div",null,[e("b",null,"Total")],-1)),e("div",null,R(v.value.toFixed(5))+" $HARB",1)])])]),e("div",Ht,[e("div",{class:X({"collapse-menu-open":r.value})},[i(s).state==="SignTransaction"?(n(),k(B,{key:0,size:"small",dense:"",block:"",outlined:""},{default:m(()=>a[11]||(a[11]=[b("Sign Transaction ...")])),_:1})):i(s).state==="Waiting"?(n(),k(B,{key:1,size:"small",dense:"",outlined:"",block:"",onClick:A},{default:m(()=>a[12]||(a[12]=[b("Waiting ...")])),_:1})):i(s).state==="Action"&&!r.value?(n(),k(B,{key:2,size:"small",dense:"",block:"",onClick:a[0]||(a[0]=L=>r.value=!0)},{default:m(()=>a[13]||(a[13]=[b("Adjust Tax Rate")])),_:1})):(n(),y(F,{key:3},[e("div",Lt,[T(xe,{items:P.value,modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=L=>u.value=L)},null,8,["items","modelValue"])]),e("div",null,[T(B,{size:"small",dense:"",onClick:a[2]||(a[2]=L=>N(t.id,u.value))},{default:m(()=>a[14]||(a[14]=[b("Confirm")])),_:1}),T(B,{size:"small",dense:"",outlined:"",onClick:a[3]||(a[3]=L=>r.value=!1)},{default:m(()=>a[15]||(a[15]=[b("Cancel")])),_:1})])],64))],2),a[19]||(a[19]=e("div",null,null,-1)),e("div",null,[i(o).state==="SignTransaction"?(n(),k(B,{key:0,size:"small",dense:"",block:"",outlined:""},{default:m(()=>a[16]||(a[16]=[b("Sign Transaction ...")])),_:1})):i(o).state==="Waiting"?(n(),k(B,{key:1,size:"small",dense:"",outlined:"",block:""},{default:m(()=>a[17]||(a[17]=[b("Waiting ...")])),_:1})):i(o).state==="Unstakeable"?(n(),k(B,{key:2,size:"small",dense:"",block:"",onClick:A},{default:m(()=>a[18]||(a[18]=[b("Unstake")])),_:1})):I("",!0)])])]),_:1},8,["loading"]))}}),Ut={class:"collapse-header"},Wt={class:"number-small"},Et={class:"collapse-amount"},qt={class:"number-small"},Ot={class:"collapsed-body history"},Yt={class:"number-small"},jt={class:"number-small"},Zt=M({__name:"CollapseHistory",props:{taxRate:{},taxPaid:{},treshold:{},id:{},amount:{},position:{}},setup(p){const o=p,s=_(()=>{const c=Number(H(o.position.totalSupplyInit,18))/Number(H(o.position.totalSupplyEnd,18));return console.log("multiplier",c),console.log("props.position.amount",o.position.amount),Number(H(o.position.totalSupplyEnd,18))*c-Number(H(o.position.totalSupplyEnd,18))});return(c,t)=>(n(),k($e,{class:"f-collapse-history"},{header:m(()=>[e("div",Ut,[e("div",null,[t[0]||(t[0]=e("span",{class:"subheader2"},"Tax",-1)),b(" "+R(o.taxRate)+" %",1)]),e("div",null,[t[1]||(t[1]=e("span",{class:"subheader2"},"ID",-1)),t[2]||(t[2]=b()),e("span",Wt,R(o.id),1)]),e("div",Et,[e("span",qt,R(i(le)(o.amount)),1),t[3]||(t[3]=e("span",{class:"caption"}," $HARB",-1))])])]),default:m(()=>[e("div",Ot,[e("div",null,[t[4]||(t[4]=e("span",{class:"subheader2"},"Tax paid",-1)),e("span",Yt,R(o.taxPaid),1),t[5]||(t[5]=e("span",{class:"caption"}," $HARB",-1))]),e("div",null,[t[6]||(t[6]=e("span",{class:"subheader2"},"Profit",-1)),e("span",jt,R(s.value),1),t[7]||(t[7]=e("span",{class:"caption"}," $HARB",-1))])])]),_:1}))}}),Xt=se(),Y=f(!1),K=f(!1),ce=Ue;let ve;function Gt(){const p=_(()=>Y.value?"SignTransaction":ce.value===0n?"NothingToClaim":K.value?"Waiting":"StakeAble");async function o(){try{const s=Xt.account.address;Y.value=!0;const c=await We(s);console.log("hash",c),Y.value=!1,K.value=!0;const t=await ge(ee,{hash:c});console.log("data.logs",t.logs)}catch(s){console.error("error",s)}finally{Y.value=!1,K.value=!1}}return D(async()=>{}),ve||(console.log("useClaim function"),ve=Le(ee,{async onChange(s){s.address&&await De()}})),fe({claimUbi:o,ubiDue:ce,state:p})}const Jt={class:"hold-stake-wrapper"},Kt={class:"hold-inner"},Qt={class:"stake-inner"},ea={key:0},ta={class:"formular"},aa={class:"row row-1"},sa={class:"row row-2"},la=M({__name:"StakeHolder",setup(p){Ee();const o=qe(),s=ie("showPanel");ie("darkTheme");const c=ye();BigInt("1000000000000000000000"),BigInt("2000000000000000000000"),f("stake");const t=f(!1),r=f(!1),u=f(1),S=f(!0),$=f(!1),{status:w}=Oe(),d=Xe();Gt();const C=se(),v=be(),{activePositions:N,myActivePositions:A,tresholdValue:V,myClosedPositions:P,createRandomPosition:h}=Ye(),a=_(()=>N.value.reduce((l,g)=>g.taxRate<l?g.taxRate:l,0)*100);_(()=>{var x;return(x=C.balance)!=null&&x.value?te(C.balance.value,C.balance.decimals):"0"});const L=_(()=>d.stakingAmount?(Number(d.stakingAmount)/Number(v.harbTotalSupply)*100).toFixed(4):0),we=_(()=>v.harbTotalSupply/5n),ne=_(()=>we.value/600n);_(()=>v.harbTotalSupply===0n?0n:v.nettoToken7d/v.harbTotalSupply*100n);async function he(){await d.snatch(d.stakingAmount,u.value),$.value=!0,await new Promise(x=>setTimeout(x,1e4)),await Ze(),$.value=!1}ue(o,async x=>{console.log("to",x.hash),x.hash==="#stake"&&(console.log("StakeMenuOpen",t.value),t.value=!0)},{flush:"pre",immediate:!0,deep:!0}),D(async()=>{try{d.stakingAmountNumber=U.value}catch(x){console.error("error",x)}finally{S.value=!1}});const U=_(()=>(console.log("minStake",ne.value),Z(ne.value,10n**18n))),q=_(()=>{var x;return(x=C.balance)!=null&&x.value?(console.log("wallet.balance.value",C.balance),console.log("formatBigIntDivision(wallet.balance.value, 10n ** 18n)",Z(C.balance.value,10n**18n)),Z(C.balance.value,10n**18n)):0});ue(U,async x=>{console.log("newValue",x),x>d.stakingAmountNumber&&d.stakingAmountNumber===0&&(d.stakingAmountNumber=U.value)},{immediate:!0});function Se(){console.log("maxStakeAmount.value",q.value),d.stakingAmountNumber=q.value}const G=_(()=>{if(O(v.outstandingStake,18)+d.stakingAmountNumber<=O(v.harbTotalSupply,18)*.2)return[];const x=O(v.outstandingStake,18)+d.stakingAmountNumber-O(v.harbTotalSupply,18)*.2;console.log("difference",x);const l=Math.floor(x/U.value);return l>0?N.value.filter(J=>r.value?J.taxRatePercentage<u.value:J.taxRatePercentage<u.value&&!J.iAmOwner).slice(0,l):[]});return(x,l)=>(n(),y("div",Jt,[T(je,{class:"inner-border"},{default:m(()=>[e("div",Kt,[l[18]||(l[18]=e("h4",null,"Stake",-1)),l[19]||(l[19]=e("div",null," Stake your $HARB to profit from new token issuance. New tokens are issued for every new market buy of $HARB. Staking positions are limited. To keep things fair you have to pay a tax (Harberger Tax). ",-1)),e("div",Qt,[i(v).initialized?(n(),y(F,{key:1},[l[9]||(l[9]=e("div",{class:"subheader2"},"Token Amount",-1)),T(yt,{min:U.value,max:q.value,modelValue:i(d).stakingAmountNumber,"onUpdate:modelValue":l[0]||(l[0]=g=>i(d).stakingAmountNumber=g)},null,8,["min","max","modelValue"]),e("div",ta,[e("div",aa,[T(W,{label:"Staking Amount $HARB",class:"staking-amount",modelValue:i(d).stakingAmountNumber,"onUpdate:modelValue":l[1]||(l[1]=g=>i(d).stakingAmountNumber=g)},{details:m(()=>[e("div",null,"Balance: "+R(q.value)+" $HARB",1),e("div",{onClick:Se,class:"staking-amount-max"},l[5]||(l[5]=[e("b",null,"Max",-1)]))]),_:1},8,["modelValue"]),T(i(E),{class:"stake-arrow",icon:"mdi:chevron-right"}),T(W,{label:"Owner Slots",class:"staking-amount",modelValue:`${(Number(L.value)*1e3).toFixed(2)}(${L.value})`},null,8,["modelValue"])]),e("div",sa,[T(xe,{items:i(c).taxRates,label:"Tax",modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=g=>u.value=g)},{info:m(()=>l[6]||(l[6]=[b(" The tax you have to pay to keep your staking position open. The tax is calculated on a yearly basis but paid continuously. ")])),_:1},8,["items","modelValue"]),T(W,{label:"Floor Tax",disabled:"",modelValue:a.value},{info:m(()=>l[7]||(l[7]=[b(" You need at least a certain amount based on the available staking positions and total supply. ")])),_:1},8,["modelValue"]),T(W,{label:"Positions Buyout",disabled:"",modelValue:G.value.length},{info:m(()=>l[8]||(l[8]=[b(" You need at least a certain amount based on the available staking positions and total supply. ")])),_:1},8,["modelValue"])])])],64)):(n(),y("div",ea,[T(_e)])),i(w)==="disconnected"?(n(),k(B,{key:2,onClick:l[3]||(l[3]=g=>s.value=!0),size:"large",block:""},{default:m(()=>l[10]||(l[10]=[b("Connect Wallet")])),_:1})):i(d).state==="NoBalance"?(n(),k(B,{key:3,size:"large",disabled:"",block:""},{default:m(()=>l[11]||(l[11]=[b("Insufficient Balance")])),_:1})):i(d).state==="StakeAble"&&G.value.length===0?(n(),k(B,{key:4,size:"large",block:"",onClick:he},{default:m(()=>l[12]||(l[12]=[b("Stake")])),_:1})):i(d).state==="StakeAble"&&G.value.length>0?(n(),k(B,{key:5,size:"large",block:"",onClick:l[4]||(l[4]=g=>i(d).snatch(i(d).stakingAmount,u.value))},{default:m(()=>l[13]||(l[13]=[b("Snatch and Stake")])),_:1})):i(d).state==="SignTransaction"?(n(),k(B,{key:6,size:"large",outlined:"",block:""},{default:m(()=>l[14]||(l[14]=[b("Sign Transaction ...")])),_:1})):i(d).state==="Waiting"?(n(),k(B,{key:7,size:"large",outlined:"",block:""},{default:m(()=>l[15]||(l[15]=[b("Waiting ...")])),_:1})):I("",!0)]),i(A).length>0&&i(w)==="connected"?(n(),y(F,{key:0},[l[16]||(l[16]=e("h5",null,"Your Active Positions",-1)),(n(!0),y(F,null,Q(i(A),g=>(n(),k(Dt,{taxRate:g.taxRatePercentage,amount:g.amount,treshold:i(V),id:g.positionId,position:g,key:g.id},null,8,["taxRate","amount","treshold","id","position"]))),128))],64)):I("",!0),i(P).length>0&&i(w)==="connected"?(n(),y(F,{key:1},[l[17]||(l[17]=e("h5",null,"History",-1)),(n(!0),y(F,null,Q(i(P),g=>(n(),k(Zt,{taxRate:g.taxRatePercentage,taxPaid:i(te)(g.taxPaid,18),amount:g.amount,treshold:i(V),id:g.positionId,key:g.id,position:g},null,8,["taxRate","taxPaid","amount","treshold","id","position"]))),128))],64)):I("",!0)])]),_:1})]))}}),na={class:"container2"},ra=M({__name:"StakeView",setup(p){return D(async()=>{}),(o,s)=>(n(),y("div",null,[e("div",na,[T(la)])]))}});export{ra as default};
